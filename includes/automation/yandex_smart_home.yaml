
#Выключение звуков активации Алисы и подтверждения выполнения команд
    - alias: change mute on alice activation sounds
      id: change mute on alice activation sounds
      initial_state: true
      max_exceeded: silent
      trigger:
        - platform: homeassistant
          event: start
        - platform: time
          at:
            - "13:30:00"
            - "21:30:00"
      condition:
        - condition: or
          conditions:
            - condition: time
              after: "13:30:00"
              before: "17:30:00"
            - condition: time
              after: "21:30:00"
              before: "8:30:00"
      action:
        - service: media_player.play_media
          entity_id: media_player.yandex_station_ff98f029b620413b35e5e278
          data:
           media_content_id: 'без лишних слов: да'
           media_content_type: settings
        - delay: 2
        - service: media_player.play_media
          entity_id: media_player.yandex_station_ff98f029b620413b35e5e278
          data:
           media_content_id: 'звук активации: нет'
           media_content_type: settings

#Включение звуков активации Алисы и подтверждения выполнения команд
    - alias: change mute off alice activation sounds
      id: change mute off alice activation sounds
      initial_state: true
      max_exceeded: silent
      trigger:
        - platform: homeassistant
          event: start
        - platform: time
          at:
            - "8:30:00"
            - "17:30:00"
      condition:
        - condition: or
          conditions:
            - condition: time
              after: "8:30:00"
              before: "13:30:00"
            - condition: time
              after: "17:30:00"
              before: "21:30:00"
      action:
        - service: media_player.play_media
          entity_id: media_player.yandex_station_ff98f029b620413b35e5e278
          data:
           media_content_id: 'без лишних слов: нет'
           media_content_type: settings
        - delay: 2
        - service: media_player.play_media
          entity_id: media_player.yandex_station_ff98f029b620413b35e5e278
          data:
           media_content_id: 'звук активации: да'
           media_content_type: settings

#Изменение имени управляющей команды Алиса/Яндекс
    - alias: change name activation for voice assistant
      id: change name activation for voice assistant
      initial_state: true
      max_exceeded: silent
      trigger:
        - platform: event
          event_type: yandex_intent
          event_data:
            text: откликайся на алису
        - platform: event
          event_type: yandex_intent
          event_data:
            text: откликайся на яндекс
      action:
        - service: media_player.play_media
          entity_id: media_player.yandex_station_ff98f029b620413b35e5e278
          data:
           media_content_id: "имя: {{ trigger.event.data.text | replace('откликайся на ', '') | replace('у', 'а') }}"
           media_content_type: settings

#Уборка конкретных комнат
    - alias: clean one room by comand from voice assistant
      id: clean one room by comand from voice assistant
      initial_state: true
      max_exceeded: silent
      trigger:
        - platform: event
          event_type: yandex_speaker
          event_data:
            instance: phrase_action
            value: "уборка спальни"
        - platform: event
          event_type: yandex_speaker
          event_data:
            instance: phrase_action
            value: "уборка детской"
        - platform: event
          event_type: yandex_speaker
          event_data:
            instance: phrase_action
            value: "уборка гостиной"
        - platform: event
          event_type: yandex_speaker
          event_data:
            instance: phrase_action
            value: "уборка ванной"
        - platform: event
          event_type: yandex_speaker
          event_data:
            instance: phrase_action
            value: "уборка гардероба"
        - platform: event
          event_type: yandex_speaker
          event_data:
            instance: phrase_action
            value: "уборка туалета"
        - platform: event
          event_type: yandex_speaker
          event_data:
            instance: phrase_action
            value: "уборка коридора"
        - platform: event
          event_type: yandex_speaker
          event_data:
            instance: phrase_action
            value: "уборка кухни"
      action:
        - service: vacuum.send_command
          data:
            entity_id: vacuum.xiaomi_vacuum_cleaner
            command: app_segment_clean
            params: >
                {{ trigger.event.data.value | replace('уборка ', '') 
                    | replace('детской', '16') 
                    | replace('спальни', '1') 
                    | replace('гостиной', '17') 
                    | replace('кухни', '2') 
                    | replace('ванной', '18') 
                    | replace('гардероба', '19') 
                    | replace('туалета', '20') 
                    | replace('коридора', '21') 
                    | int(0)
                }}
