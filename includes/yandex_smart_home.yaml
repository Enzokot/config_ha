
  notifier:
    - oauth_token: !secret yandex_oauth_token
      skill_id: !secret yandex_skill_id
      user_id: !secret yandex_user_id
  settings:
    pressure_unit: mmHg
  filter:
    include_entities:
      - switch.0x086bd7fffe5d13c9
      - switch.0x086bd7fffe5b7c7f_right
      - switch.0x086bd7fffe5b7c7f_left
      - switch.0x086bd7fffe5aecf8_left
      - switch.0x086bd7fffe5aecf8_right
      - cover.0x847127fffed62861
      - cover.0x847127fffed4907d
      - climate.avatto_living_room_ac
      - media_player.sony_bravia_tv
      - sensor.0x00158d00042fd6f5_temperature
      - sensor.esp_xiaomi_childrens_room_temperature
      - sensor.0x00158d0004561de9_temperature
      - sensor.esp_xiaomi_kitchen_temperature
      - sensor.esp_xiaomi_bed_room_temperature
      - sensor.esp_xiaomi_living_room_temperature
      - vacuum.xiaomi_vacuum_cleaner
      - humidifier.zhimi_humidifier_cb1
      - humidifier.zhimi_humidifier_ca4
      - media_player.lg_smart_tv
      - media_player.yandex_intents
      - cover.cover_group_kitchen
      - media_player.samsung_tv_remote
      - switch.r4s1_kettle_boil
  entity_config:
    media_player.sony_bravia_tv:
      modes:
        input_source:
          one: ['YouTube']
          two: ['Мульт']
          three: ['Дисней']
          four: ['КАРУСЕЛЬ']
      custom_ranges:
        channel:
          set_value:
            service: script.set_sony_braviatv_channel_number
            data:
              entity: remote.sony_bravia_tv
              channel: '{{ value }}'
              ext_channel_name: 'Мульт'
              media_entity: media_player.sony_bravia_tv
          range:
            min: 1
            max: 204
    media_player.lg_smart_tv:
      channel_set_via_media_content_id: true
      modes:
        input_source:
          one: ['YouTube']
          two: ['ТВ (LiveTV)']
    media_player.samsung_tv_remote:
      channel_set_via_media_content_id: true
    sensor.0x00158d00042fd6f5_temperature:
        properties:
          - type: humidity
            entity: sensor.0x00158d00042fd6f5_humidity
          - type: pressure
            entity: sensor.0x00158d00042fd6f5_pressure
    sensor.esp_xiaomi_living_room_temperature:
        properties:
          - type: humidity
            entity: sensor.esp_xiaomi_living_room_humidity
    sensor.esp_xiaomi_bed_room_temperature:
        properties:
          - type: humidity
            entity: sensor.esp_xiaomi_bed_room_humidity
    sensor.esp_xiaomi_kitchen_temperature:
        properties:
          - type: humidity
            entity: sensor.esp_xiaomi_kitchen_humidity
    sensor.0x00158d0004561de9_temperature:
        properties:
          - type: humidity
            entity: sensor.0x00158d0004561de9_humidity
    sensor.esp_xiaomi_childrens_room_temperature:
        properties:
          - type: humidity
            entity: sensor.esp_xiaomi_childrens_room_humidity
    switch.r4s1_kettle_boil:
        type: devices.types.cooking.kettle
        properties:
          - type: temperature
            entity: climate.r4s1_kettle_temp
            attribute: current_temperature
        custom_toggles:
          mute:
            state_entity_id: binary_sensor.r4s1_kettle_beep_inverted
            turn_on:
              service: switch.turn_off
              entity_id: switch.r4s1_kettle_beep
            turn_off:
              service: switch.turn_on
              entity_id: switch.r4s1_kettle_beep
          oscillation:
            state_entity_id: switch.r4s1_kettle_backlight
            turn_on:
              service: switch.turn_on
              entity_id: switch.r4s1_kettle_backlight
            turn_off:
              service: switch.turn_off
              entity_id: switch.r4s1_kettle_backlight
          backlight:
            state_entity_id: light.r4s1_kettle_light
            turn_on:
              service: light.turn_on
              entity_id: light.r4s1_kettle_light
            turn_off:
              service: light.turn_off
              entity_id: light.r4s1_kettle_light
          keep_warm:
            state_entity_id: switch.r4s1_kettle_heat
            turn_on:
              service: switch.turn_on
              entity_id: switch.r4s1_kettle_heat
            turn_off:
              service: switch.turn_off
              entity_id: switch.r4s1_kettle_heat
        custom_ranges:
          temperature:
            state_entity_id: sensor.r4s1_kettle_temp_current_temp
            set_value:
              service: climate.set_temperature
              data:
                entity_id: climate.r4s1_kettle_temp
                temperature: '{{ value }}'
            range:
              min: 40
              max: 85
              precision: 15

#Увлажнитель детская
    humidifier.zhimi_humidifier_ca4:
        modes:
            heat:
              max: ['bright']
              min: ['off']
              normal: ['dim']
        custom_modes:
            heat:
              state_entity_id: select.zhimi_humidifier_ca4_led_brightness
              set_mode:
                service: select.select_option
                data:
                  entity_id: select.zhimi_humidifier_ca4_led_brightness
                  option: '{{ mode }}'
        properties:
          - type: temperature
            entity: sensor.zhimi_humidifier_ca4_temperature
          - type: humidity
            entity: sensor.zhimi_humidifier_ca4_humidity
          - type: water_level
            entity: sensor.zhimi_humidifier_ca4_water_level
          - type: power
            entity: sensor.zhimi_humidifier_ca4_actual_speed
        custom_toggles:
          mute:
            state_entity_id: switch.zhimi_humidifier_ca4_buzzer
            turn_on:
              service: switch.turn_on
              entity_id: switch.zhimi_humidifier_ca4_buzzer
            turn_off:
              service: switch.turn_off
              entity_id: switch.zhimi_humidifier_ca4_buzzer
          controls_locked:
            state_entity_id: switch.zhimi_humidifier_ca4_child_lock
            turn_on:
              service: switch.turn_on
              entity_id: switch.zhimi_humidifier_ca4_child_lock
            turn_off:
              service: switch.turn_off
              entity_id: switch.zhimi_humidifier_ca4_child_lock
          ionization:
            state_entity_id: switch.zhimi_humidifier_ca4_dry_mode
            turn_on:
              service: switch.turn_on
              entity_id: switch.zhimi_humidifier_ca4_dry_mode
            turn_off:
              service: switch.turn_off
              entity_id: switch.zhimi_humidifier_ca4_dry_mode

#Увлажнитель спальня
    humidifier.zhimi_humidifier_cb1:
        modes:
            heat:
              max: ['bright']
              min: ['off']
              normal: ['dim']
        custom_modes:
            heat:
              state_entity_id: select.zhimi_humidifier_cb1_led_brightness
              set_mode:
                service: select.select_option
                data:
                  entity_id: select.zhimi_humidifier_cb1_led_brightness
                  option: '{{ mode }}'
        properties:
          - type: temperature
            entity: sensor.zhimi_humidifier_cb1_temperature
          - type: humidity
            entity: sensor.zhimi_humidifier_cb1_humidity
          - type: water_level
            entity: sensor.zhimi_humidifier_cb1_water_level
          - type: power
            entity: sensor.zhimi_humidifier_cb1_motor_speed
        custom_toggles:
          mute:
            state_entity_id: switch.zhimi_humidifier_cb1_buzzer
            turn_on:
              service: switch.turn_on
              entity_id: switch.zhimi_humidifier_cb1_buzzer
            turn_off:
              service: switch.turn_off
              entity_id: switch.zhimi_humidifier_cb1_buzzer
          controls_locked:
            state_entity_id: switch.zhimi_humidifier_cb1_child_lock
            turn_on:
              service: switch.turn_on
              entity_id: switch.zhimi_humidifier_cb1_child_lock
            turn_off:
              service: switch.turn_off
              entity_id: switch.zhimi_humidifier_cb1_child_lock
          ionization:
            state_entity_id: switch.zhimi_humidifier_cb1_dry_mode
            turn_on:
              service: switch.turn_on
              entity_id: switch.zhimi_humidifier_cb1_dry_mode
            turn_off:
              service: switch.turn_off
              entity_id: switch.zhimi_humidifier_cb1_dry_mode
